-- Créer une table spécifique pour les tarifs hydrocarbures
CREATE TABLE public.tarifs_hydrocarbures (
  id UUID NOT NULL DEFAULT gen_random_uuid() PRIMARY KEY,
  numero_ordre INTEGER NOT NULL,
  lieu_depart VARCHAR NOT NULL,
  destination VARCHAR NOT NULL,
  tarif_au_litre NUMERIC(10,2) NOT NULL,
  observations TEXT,
  created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(),
  updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()
);

-- Activer RLS
ALTER TABLE public.tarifs_hydrocarbures ENABLE ROW LEVEL SECURITY;

-- Politique pour voir les tarifs (tous)
CREATE POLICY "Tous peuvent voir les tarifs hydrocarbures" 
ON public.tarifs_hydrocarbures 
FOR SELECT 
USING (true);

-- Politique pour gérer les tarifs (admins seulement)
CREATE POLICY "Admins peuvent gérer les tarifs hydrocarbures" 
ON public.tarifs_hydrocarbures 
FOR ALL 
USING (is_admin());

-- Trigger pour updated_at
CREATE TRIGGER update_tarifs_hydrocarbures_updated_at
BEFORE UPDATE ON public.tarifs_hydrocarbures
FOR EACH ROW
EXECUTE FUNCTION public.update_updated_at_column();

-- Insérer les tarifs de Conakry
INSERT INTO public.tarifs_hydrocarbures (numero_ordre, lieu_depart, destination, tarif_au_litre) VALUES
(1, 'Conakry', 'Albadaria', 718.20),
(2, 'Conakry', 'Badi', 154.49),
(3, 'Conakry', 'Badou', 1043.42),
(4, 'Conakry', 'Balandougouba', 1252.14),
(5, 'Conakry', 'Banankoro', 1205.69),
(6, 'Conakry', 'Banian', 565.87),
(7, 'Conakry', 'Banko', 521.18),
(8, 'Conakry', 'Batambaye', 747.61),
(9, 'Conakry', 'Batenafadji', 997.11),
(10, 'Conakry', 'Bawa', 103.40),
(11, 'Conakry', 'Benty', 188.61),
(12, 'Conakry', 'Beyla', 1309.22),
(13, 'Conakry', 'Bissikirima', 489.31),
(14, 'Conakry', 'Boffa', 161.73),
(15, 'Conakry', 'Boke', 286.69),
(16, 'Conakry', 'Boola', 1296.59),
(17, 'Conakry', 'Cissela', 543.64),
(18, 'Conakry', 'Conakry', 90.23),
(19, 'Conakry', 'Contah(via ForecaRiah)', 195.87),
(20, 'Conakry', 'Coyah', 90.23),
(21, 'Conakry', 'Dabola', 463.44),
(22, 'Conakry', 'Dalaba', 360.02),
(23, 'Conakry', 'Damaro', 1288.81),
(24, 'Conakry', 'Debele', 107.76),
(25, 'Conakry', 'Dian-Dian', 376.29),
(26, 'Conakry', 'Diecke', 1287.34),
(27, 'Conakry', 'Dielibakoro', 1066.69),
(28, 'Conakry', 'Dinguiraye', 667.00),
(29, 'Conakry', 'Dogomet', 414.95),
(30, 'Conakry', 'Doko', 1219.49),
(31, 'Conakry', 'Donkea', 107.81),
(32, 'Conakry', 'Donkiba', 419.93),
(33, 'Conakry', 'Dubreka', 90.23),
(34, 'Conakry', 'Faranah', 501.16),
(35, 'Conakry', 'Faranah2', 632.66),
(36, 'Conakry', 'Farenta', 396.80),
(37, 'Conakry', 'Farmoriah', 134.67),
(38, 'Conakry', 'Fatako', 519.44),
(39, 'Conakry', 'Forecariah', 107.78),
(40, 'Conakry', 'Foumbadou', 1316.69),
(41, 'Conakry', 'Fria', 161.21),
(42, 'Conakry', 'Gaoual', 681.68),
(43, 'Conakry', 'Garafiri', 325.18),
(44, 'Conakry', 'Gbantama', 95.92),
(45, 'Conakry', 'Gbenko', 1205.70),
(46, 'Conakry', 'Gge', 1175.72),
(47, 'Conakry', 'Gueckedou', 816.11),
(48, 'Conakry', 'Guilengbe', 1282.65),
(49, 'Conakry', 'Kaback', 110.07),
(50, 'Conakry', 'Kaleta', 209.90),
(51, 'Conakry', 'Kamsar', 342.74),
(52, 'Conakry', 'Kankalabe', 471.80),
(53, 'Conakry', 'Kankan', 935.37),
(54, 'Conakry', 'Kerouane', 1205.67),
(55, 'Conakry', 'Kindia', 147.65),
(56, 'Conakry', 'Kiniero', 762.23),
(57, 'Conakry', 'Kintinian', 1298.33),
(58, 'Conakry', 'Kissidougou', 715.88),
(59, 'Conakry', 'Koba', 141.63),
(60, 'Conakry', 'Kolaboui', 286.69),
(61, 'Conakry', 'Kalia(Faranah)', 407.40),
(62, 'Conakry', 'Kolidou', 910.55),
(63, 'Conakry', 'Konsankoro', 1250.47),
(64, 'Conakry', 'kouankan', 957.81),
(65, 'Conakry', 'Koubia', 528.13),
(66, 'Conakry', 'koukoude', 289.65),
(67, 'Conakry', 'Koundara', 805.60),
(68, 'Conakry', 'Kounsitel', 658.79),
(69, 'Conakry', 'Kouroussa', 750.61),
(70, 'Conakry', 'Labe', 447.27),
(71, 'Conakry', 'Lelouma', 541.54),
(72, 'Conakry', 'Lero', 849.63),
(73, 'Conakry', 'Linsan', 242.50),
(74, 'Conakry', 'Loila', 1198.00),
(75, 'Conakry', 'Lola', 1225.58),
(76, 'Conakry', 'Macenta', 950.85),
(77, 'Conakry', 'Madina oula', 228.49),
(78, 'Conakry', 'Madina Salambande', 679.00),
(79, 'Conakry', 'Maferinya', 99.93),
(80, 'Conakry', 'Mali', 632.66),
(81, 'Conakry', 'Mamou', 296.39),
(82, 'Conakry', 'Mandiana', 1066.59),
(83, 'Conakry', 'Marela', 404.16),
(84, 'Conakry', 'Matagania', 668.17),
(85, 'Conakry', 'Monchon', 213.45),
(86, 'Conakry', 'Niantanina', 1159.35),
(87, 'Conakry', 'N''Zerekore', 1160.71),
(88, 'Conakry', 'N''Zerekore 2', 1525.47),
(89, 'Conakry', 'Ourekaba', 371.79),
(90, 'Conakry', 'Pamalap', 180.91),
(91, 'Conakry', 'Petini', 316.05),
(92, 'Conakry', 'Pita', 404.15),
(93, 'Conakry', 'Samaya', 148.79),
(94, 'Conakry', 'Sambailo', 825.59),
(95, 'Conakry', 'Sangaredi', 360.03),
(96, 'Conakry', 'Sanguiana', 591.69),
(97, 'Conakry', 'Saramoussaya(Mamou)', 377.22),
(98, 'Conakry', 'sarebhoydho', 847.32),
(99, 'Conakry', 'Sanguele', 94.84),
(100, 'Conakry', 'Senko', 1409.59),
(101, 'Conakry', 'Seredou', 990.76),
(102, 'Conakry', 'Sidikila', 1236.74),
(103, 'Conakry', 'Siguiri', 1142.35),
(104, 'Conakry', 'Sokotoro', 350.35),
(105, 'Conakry', 'Tamagaly', 264.03),
(106, 'Conakry', 'Tanene', 103.47),
(107, 'Conakry', 'Tatakourou', 1196.44),
(108, 'Conakry', 'Tatema(Koba)', 169.34),
(109, 'Conakry', 'Telemele', 332.28),
(110, 'Conakry', 'Timbi Madina', 435.08),
(111, 'Conakry', 'Timbo', 343.81),
(112, 'Conakry', 'Tougnifily', 213.45),
(113, 'Conakry', 'Tougue', 561.79),
(114, 'Conakry', 'Toukounou', 788.71),
(115, 'Conakry', 'Yende', 759.01),
(116, 'Conakry', 'Yomboyeli', 200.16),
(117, 'Conakry', 'Yomou', 1253.36),
(118, 'Conakry', 'Zimodou(Macenta)', 950.85),
(119, 'Conakry', 'Zogota(Macenta)', 1194.85),
(120, 'Conakry', 'Kouremalé', 1175.72);

-- Insérer les tarifs de Kankan
INSERT INTO public.tarifs_hydrocarbures (numero_ordre, lieu_depart, destination, tarif_au_litre) VALUES
(1, 'Kankan', 'Banankoro', 270.34),
(2, 'Kankan', 'Balandougouba', 316.70),
(3, 'Kankan', 'Balato', 225.02),
(4, 'Kankan', 'Beyla', 435.63),
(5, 'Kankan', 'Boola', 502.08),
(6, 'Kankan', 'Boukaria', 253.37),
(7, 'Kankan', 'Cissela', 196.15),
(8, 'Kankan', 'Conakry', 935.39),
(9, 'Kankan', 'Dabola', 274.83),
(10, 'Kankan', 'Damaro', 333.69),
(11, 'Kankan', 'Dialakoro', 269.44),
(12, 'Kankan', 'Dielibakoro', 131.33),
(13, 'Kankan', 'Dinguiraye', 364.22),
(14, 'Kankan', 'Doko', 206.99),
(15, 'Kankan', 'Faranwalia', 276.54),
(16, 'Kankan', 'Gbenko', 270.34),
(17, 'Kankan', 'Guilengbe(Mandiana)', 347.28),
(18, 'Kankan', 'Kankan', 90.22),
(19, 'Kankan', 'Kantoumania', 169.93),
(20, 'Kankan', 'Kerouane', 270.34),
(21, 'Kankan', 'Kinieran', 185.39),
(22, 'Kankan', 'kiniero', 227.09),
(23, 'Kankan', 'kintinian', 261.09),
(24, 'Kankan', 'kissidougou', 219.40),
(25, 'Kankan', 'Kodiaran', 92.69),
(26, 'Kankan', 'Koledou', 142.13),
(27, 'Kankan', 'Komodou', 126.56),
(28, 'Kankan', 'Kondianakoro', 262.73),
(29, 'Kankan', 'Konsankoro', 315.18),
(30, 'Kankan', 'Koundian', 179.21),
(31, 'Kankan', 'Kouremale', 240.35),
(32, 'Kankan', 'Kouroussa', 142.13),
(33, 'Kankan', 'Loila', 161.21),
(34, 'Kankan', 'Lero', 540.34),
(35, 'Kankan', 'Morodou', 183.84),
(36, 'Kankan', 'Mamouroudou', 199.04),
(37, 'Kankan', 'Mandiana', 131.37),
(38, 'Kankan', 'Marela', 610.16),
(39, 'Kankan', 'Niagassola', 362.25),
(40, 'Kankan', 'Niantanina', 223.99),
(41, 'Kankan', 'Norassoba', 216.28),
(42, 'Kankan', 'N''Zerekore', 352.31),
(43, 'Kankan', 'Sabadoubaranama', 131.31),
(44, 'Kankan', 'Sabadoubaranama via Kodiara', 455.74),
(45, 'Kankan', 'Saladou', 248.82),
(46, 'Kankan', 'Senko', 458.10),
(47, 'Kankan', 'Setiguiya', 261.08),
(48, 'Kankan', 'Sidikila', 301.37),
(49, 'Kankan', 'Siguiri', 206.99),
(50, 'Kankan', 'Tatakourou', 261.09),
(51, 'Kankan', 'Tomboko', 282.71),
(52, 'Kankan', 'Woudiala', 131.31);

-- Insérer les tarifs de N'Zerekore
INSERT INTO public.tarifs_hydrocarbures (numero_ordre, lieu_depart, destination, tarif_au_litre) VALUES
(1, 'N''Zerekore', 'Banian', 566.80),
(2, 'N''Zerekore', 'Beyla', 202.40),
(3, 'N''Zerekore', 'Boola', 135.96),
(4, 'N''Zerekore', 'Damaro', 363.05),
(5, 'N''Zerekore', 'Diecke', 126.70),
(6, 'N''Zerekore', 'Faranah', 520.69),
(7, 'N''Zerekore', 'Gouecke', 90.22),
(8, 'N''Zerekore', 'Gueckedou', 313.68),
(9, 'N''Zerekore', 'Kerouane', 325.94),
(10, 'N''Zerekore', 'Kissidougou', 400.99),
(11, 'N''Zerekore', 'Koyamah', 351.80),
(12, 'N''Zerekore', 'Lola', 90.22),
(13, 'N''Zerekore', 'Macenta', 213.23),
(14, 'N''Zerekore', 'N''Zerekore', 90.22),
(15, 'N''Zerekore', 'Piné', 169.97),
(16, 'N''Zerekore', 'Sinko', 246.81),
(17, 'N''Zerekore', 'Seredou', 227.08),
(18, 'N''Zerekore', 'Yendé', 329.91),
(19, 'N''Zerekore', 'Yomou', 92.70);